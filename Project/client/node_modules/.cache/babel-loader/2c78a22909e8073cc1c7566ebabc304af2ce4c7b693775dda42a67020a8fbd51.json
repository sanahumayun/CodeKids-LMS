{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  try {\n    const res = await axios.post('http://localhost:5000/api/auth/login', form);\n    const token = res.data.token; // The JWT token from the backend\n    const user = res.data.user; // User data from the backend\n\n    // Store the token and user information in localStorage\n    localStorage.setItem('authToken', token);\n    localStorage.setItem('user', JSON.stringify(user));\n\n    // Alert for debugging\n    alert(`Token: ${token}\\nUser Info: ${JSON.stringify(user, null, 2)}`);\n\n    // Redirect based on user role\n    if (user.role === 'admin') {\n      window.location.href = '/admin-dashboard';\n    } else if (user.role === 'tutor') {\n      window.location.href = '/tutor-dashboard';\n    } else if (user.role === 'student') {\n      window.location.href = '/student-dashboard';\n    }\n  } catch (err) {\n    alert(err.response.data.error || 'Error');\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","res","axios","post","form","token","data","user","localStorage","setItem","JSON","stringify","alert","role","window","location","href","err","response","error"],"sources":["C:/Users/IST/Desktop/Spring 2025/SE/Project/SE_Project_42/Project/client/src/components/Login.jsx"],"sourcesContent":["const handleSubmit = async e => {\r\n  e.preventDefault();\r\n  try {\r\n    const res = await axios.post('http://localhost:5000/api/auth/login', form);\r\n    const token = res.data.token;  // The JWT token from the backend\r\n    const user = res.data.user;    // User data from the backend\r\n\r\n    // Store the token and user information in localStorage\r\n    localStorage.setItem('authToken', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n\r\n    // Alert for debugging\r\n    alert(`Token: ${token}\\nUser Info: ${JSON.stringify(user, null, 2)}`);\r\n\r\n    // Redirect based on user role\r\n    if (user.role === 'admin') {\r\n      window.location.href = '/admin-dashboard';\r\n    } else if (user.role === 'tutor') {\r\n      window.location.href = '/tutor-dashboard';\r\n    } else if (user.role === 'student') {\r\n      window.location.href = '/student-dashboard';\r\n    }\r\n  } catch (err) {\r\n    alert(err.response.data.error || 'Error');\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAMC,CAAC,IAAI;EAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,sCAAsC,EAAEC,IAAI,CAAC;IAC1E,MAAMC,KAAK,GAAGJ,GAAG,CAACK,IAAI,CAACD,KAAK,CAAC,CAAE;IAC/B,MAAME,IAAI,GAAGN,GAAG,CAACK,IAAI,CAACC,IAAI,CAAC,CAAI;;IAE/B;IACAC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,KAAK,CAAC;IACxCG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;;IAElD;IACAK,KAAK,CAAC,UAAUP,KAAK,gBAAgBK,IAAI,CAACC,SAAS,CAACJ,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;;IAErE;IACA,IAAIA,IAAI,CAACM,IAAI,KAAK,OAAO,EAAE;MACzBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,kBAAkB;IAC3C,CAAC,MAAM,IAAIT,IAAI,CAACM,IAAI,KAAK,OAAO,EAAE;MAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,kBAAkB;IAC3C,CAAC,MAAM,IAAIT,IAAI,CAACM,IAAI,KAAK,SAAS,EAAE;MAClCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,oBAAoB;IAC7C;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZL,KAAK,CAACK,GAAG,CAACC,QAAQ,CAACZ,IAAI,CAACa,KAAK,IAAI,OAAO,CAAC;EAC3C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}